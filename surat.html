<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Surat Untukmu</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      background: #ff6699 url("bg-lope.jpeg") no-repeat center center;
      background-size: cover;
      font-family: "Poppins", sans-serif;
      color: white;
      overflow: hidden;
      padding: 0 10px;
    }

    /* 📜 Surat */
    #loveLetter {
      background: #fff;
      color: #333;
      max-width: 600px;
      width: 90%;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      text-align: left;
      position: relative;
      font-family: "Georgia", serif;
      border: 2px solid #ff99aa;
      animation: zoomIn 0.5s ease forwards;
    }
    #loveLetter::before, 
    #loveLetter::after {
      content: "💌";
      position: absolute;
      font-size: 24px;
      top: -20px;
    }
    #loveLetter::before { left: 20px; }
    #loveLetter::after { right: 20px; }

    #loveLetter h2 {
      margin: 0;
      text-align: center;
      font-family: "Poppins", sans-serif;
      color: #d6336c;
    }
    #loveLetter hr {
      border: none;
      border-top: 2px dashed #d6336c;
      margin: 10px 0 20px;
    }
    #letterText {
      white-space: pre-line;
      font-size: 1.1em;
      line-height: 1.6;
      min-height: 150px;
    }
    .fromTo {
      margin-top: 20px;
      font-size: 0.9em;
      font-style: italic;
      display: flex;
      justify-content: space-between;
      color: #555;
    }
    .controls {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      background: #ff4f6d;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: 0.3s;
    }
    button:hover {
      background: #e91e63;
      transform: scale(1.05);
    }
    button:disabled {
      background: #aaa;
      cursor: not-allowed;
      transform: none;
    }

    /* Animasi */
    @keyframes zoomIn {
      from { transform: scale(0.8); opacity: 0; }
      to   { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- 📜 Surat -->
  <div id="loveLetter">
    <h2>SURAT UNTUKMU</h2>
    <hr />
    <div id="letterText"></div>
    <div class="fromTo">
      <span>From: mas 💕</span>
      <span>To: sayangku 💖</span>
    </div>
    <div class="controls">
      <button id="backBtn" disabled>⬅️ Back</button>
      <button id="nextBtn">Next ➡️</button>
    </div>
  </div>

  <audio id="bgMusic" loop>
    <source src="romantis1.mp3" type="audio/mpeg">
  </audio>

  <script>
    const music = document.getElementById("bgMusic");

    window.addEventListener("load", () => {
      const shouldPlay = sessionStorage.getItem("playMusic");
      if (shouldPlay === "true") {
        music.play().catch(() => {
          console.log("Autoplay diblokir, butuh interaksi manual.");
        });
        sessionStorage.removeItem("playMusic"); 
      }
    });

    const letterText = document.getElementById("letterText");
    const backBtn = document.getElementById("backBtn");
    const nextBtn = document.getElementById("nextBtn");

    // 🔹 Tiga isi surat tanpa foto
    const messages = [
      {
        text: `Sayangku tersayang 💖
Selamat ulang tahun 🎂✨, Aku bersyukur banget bisa ada di sampingmu sampai hari ini.
Semoga di hari spesialmu ini, kamu selalu bahagia, sehat, dan semua doa baikmu terkabul 🌸
Kamu itu alasan senyumku setiap hari, penyemangatku di saat aku lelah, dan pelukan hangat yang selalu aku rindukan💖.  
Aku nggak butuh apapun lagi, asal bisa terus bersamamu,  menemani setiap langkahmu sampai kita tua nanti 🤍 
Aku mencintaimu selalu, hari ini, esok, dan selamanya 💕`
      },
      {
        text: `Kamu itu hadiah terindah yang Tuhan kasih untukku ✨
Setiap senyummu bikin hariku lebih berwarna 🌈  
Kamu adalah alasan aku semangat setiap pagi, dan doa terakhirku sebelum tidur di malam hari 🌙💕  
Aku ingin kamu tahu, tidak ada satu pun yang bisa menggantikanmu di hatiku.  
Setiap detik bersamamu adalah anugerah, setiap tatapanmu membuatku merasa menjadi orang paling beruntung di dunia ini 🌹  
Aku mencintaimu bukan hanya dengan kata,tapi dengan seluruh hatiku, jiwaku, dan nafasku.💖`
      },
      {
        text: `Terima kasih, sayang, sudah mau hadir dalam hidupku. Terima kasih sudah sabar, sudah mengerti aku, sudah sayang sama aku meski aku jauh dari sempurna 🥺💕. 
        Aku belajar banyak darimu, tentang kesabaran, ketulusan, dan arti cinta yang sesungguhnya. 
        Sekarang ini, di akhir surat ini, aku cuma mau bilang... Aku ingin kita terus berjalan bersama sampai tua nanti.
        Aku ingin jadi alasan kamu tersenyum setiap pagi, orang yang kamu rindukan tiap malam 🌙, dan rumah yang selalu kamu pulangin kapanpun kamu merasa lelah.
        Aku cinta kamu, bukan cuma untuk hari ini, tapi untuk esok, lusa, dan selamanya. Selama Tuhan masih kasih aku kesempatan hidup, aku akan selalu memilih kamu, mencintaimu, dan berjuang untuk kita 💞✨
        Selamat ulang tahun cintaku, semoga hari ini seindah hatimu dan malam ini sehangat pelukan kita 💕aku ingin terus bersamamu selamanya 💞`
        
      }
    ];

    let index = 0;
    let i = 0;

    function typingEffect(msg) {
      letterText.innerHTML = "";
      i = 0;
      function typing() {
        if (i < msg.length) {
          letterText.innerHTML += msg.charAt(i);
          i++;
          setTimeout(typing, 50);
        }
      }
      typing();
    }

    function showLetter(i) {
      typingEffect(messages[i].text);
    }

    showLetter(index);

    function updateButtons() {
      backBtn.disabled = index === 0;
      if (index === messages.length - 1) {
        nextBtn.textContent = "Tutup Surat ✨";
      } else {
        nextBtn.textContent = "Next ➡️";
      }
    }

    backBtn.addEventListener("click", () => {
      if (index > 0) {
        index--;
        showLetter(index);
        updateButtons();
      }
    });

    nextBtn.addEventListener("click", () => {
      if (index < messages.length - 1) {
        index++;
        showLetter(index);
        updateButtons();
      } else {
        window.location.href = "tampilan.html"; 
      }
    });
  </script>
</body>
</html>

